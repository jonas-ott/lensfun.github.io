<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>lensfun: Database file format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
    messageStyle: "none"
});
</script><script type="text/javascript" src="http://lensfun.github.io/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lensfun-manual.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lensfun
   &#160;<span id="projectnumber">0.3.95.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Database file format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Here goes a simple lens database file, I hope I don't have to explain much what is what, as the format is pretty much self-documenting.</p>
<pre class="fragment">&lt;lensdatabase version="1"&gt;

    &lt;mount&gt;
        &lt;name&gt;Pentax K&lt;/name&gt;
        &lt;compat&gt;M42&lt;/compat&gt;
    &lt;/mount&gt;

    &lt;lens&gt;
        &lt;maker&gt;Pentax&lt;/maker&gt;
        &lt;model&gt;SMC Pentax M 50mm f/1.4&lt;/model&gt;
        &lt;mount&gt;Pentax K&lt;/mount&gt;
        &lt;cropfactor&gt;1.0&lt;/cropfactor&gt;
        &lt;focal value="50" /&gt;
        &lt;aperture min="1.4" max="22" /&gt;
        &lt;type&gt;rectilinear&lt;/type&gt;
        &lt;calibration&gt;
            &lt;!-- WARNING: this calibration data is completely bogus :) --&gt;
            &lt;distortion model="ptlens" focal="50" a="0.012" b="-0.036" c="0" /&gt;
        &lt;/calibration&gt;
    &lt;/lens&gt;

    &lt;camera&gt;
        &lt;maker&gt;Pentax&lt;/maker&gt;
        &lt;model&gt;Pentax K10D&lt;/model&gt;
        &lt;mount&gt;Pentax KAF2&lt;/mount&gt;
        &lt;cropfactor&gt;1.531&lt;/cropfactor&gt;
    &lt;/camera&gt;

&lt;/lensdatabase&gt;
</pre><p>The “version” attribute at the &lt;lensdatabase&gt; element denotes the format version of this database file. It is an integer number and defaults to “0”. Because it was introduced in Lensfun 0.3, “0” is the format version of all Lensfun releases before that. Database format changes mostly are backwards-compatible, so that a certain Lensfun version supports database versions up to a certain number. The most recent lens database is offered for download in all versions, and the <a class="el" href="lensfun-update-data.html">lensfun-update-data</a> program fetches the appropriate for you. See <a class="el" href="db_versions.html">Database format versions</a> for the version history.</p>
<p>Since lenses and cameras may be known with different names in different languages/countries, the library provides a built-in mechanism for name translations. You can provide such multi-language strings for every language you want, and when the library client will ask for string value, it will get the one in the current locale.</p>
<p>This mechanism is also useful sometimes when you want to use a name for camera which is different from the value put in EXIF data. For example:</p>
<pre class="fragment">&lt;maker&gt;Konica Minolta Camera, Inc.&lt;/maker&gt;
&lt;maker lang="en"&gt;Konica Minolta&lt;/maker&gt;
&lt;maker lang="ru"&gt;Коника Минольта&lt;/maker&gt;
</pre><p>The value without a “lang” attribute is always used for identification, but GUI may use the translated string for display. If no language matches, and an "en" translation is present, it is used. And only if there's no native translation and there's no "en" translation, the no-language version is used.</p>
<p>Here is a complete list of elements recognized by the library and the format of the data within elements.</p>
<ul>
<li>
<a class="el" href="el_mount.html">Describing camera mounts: &lt;mount&gt;</a> </li>
<li>
<a class="el" href="el_camera.html">Declaring cameras: &lt;camera&gt;</a> </li>
<li>
<a class="el" href="el_lens.html">Declaring lenses: &lt;lens&gt;</a> </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 27 2019 05:02:17 for lensfun by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
