<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>lensfun: Lens calibration data format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
MathJax.Hub.Config({
    messageStyle: "none"
});
</script><script type="text/javascript" src="http://lensfun.github.io/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lensfun-manual.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lensfun
   &#160;<span id="projectnumber">0.3.95.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Lens calibration data format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Possible embedded elements: </p><dl>
<dt>&lt;distortion focal="number" model="name" k1="number" k2="number" k3="number" a="number" b="number" c="number" real-focal="number"/&gt; </dt>
<dd>Declares the image distortion model for this lens. Distortion is specific for every focal length (in mm), so you can declare multiple distortion entries with different focal values; the library will interpolate the parameters for intermediate focal lengths. The model name may be "none", "poly3", "poly5", "ptlens", or "acm". See <a class="el" href="elem_calibration.html#real-focal">Real focal length</a> for a description of the optional “real-focal” attribute. <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Lens.html#gaa505e04666a189274ba66316697e308e" title="The Lensfun library implements several lens distortion models. This enum lists them. ">lfDistortionModel</a> </dd></dl>
</dd>
<dt>&lt;tca focal="number" model="name" kr="number" kb="number" /&gt; </dt>
<dd>Declares the Transversal Chromatic Aberrations model for this lens, depending on focal length. The library will interpolate the parameters for intermediate focal lengths. The model name may be "none", "linear", "poly3", or "acm". <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Lens.html#ga0b8deda1887fb5543a2038669ed344b4" title="The Lensfun library supports several models for lens lateral chromatic aberrations (also called trans...">lfTCAModel</a> </dd></dl>
</dd>
<dt>&lt;vignetting focal="number" aperture="number" distance="number" model="name" k1="number" k2="number" k3="number" /&gt; </dt>
<dd>Declares the vignetting model for this lens at given focal length (in mm), given aperture (as f-number), and given distance to subject in focus (in meters). This kind of calibration requires relatively many sample points since it depends on three variables. The library will interpolate the parameters for between the sample points if necessary. The model name may be "none", "pa", or "acm". <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Lens.html#ga3fd9e8dbe500297bdda2d6458745b481" title="The Lensfun library supports several models for lens vignetting correction. ">lfVignettingModel</a> </dd></dl>
</dd>
<dt>&lt;crop focal="number" mode="name" left="number" right="number" top="number" bottom="number" /&gt; </dt>
<dd>Declares the image crop for this lens. Crop can be specific for every focal length (in mm), so you can declare multiple crop entries with different focal values; the library will interpolate the parameters for intermediate focal lengths. The mode name may be "no_crop", "crop_rectangle", or "crop_circle". <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__Lens.html#ga7cf279be3d271de4d5af11d278dc9873" title="Different crop modes. ">lfCropMode</a> </dd></dl>
</dd>
</dl>
<h1><a class="anchor" id="real-focal"></a>
Real focal length</h1>
<p>The optional attribute “real-focal” for the &lt;distortion&gt; element declares the <em>real</em> focal length of the lens in the <a href="http://en.wikipedia.org/wiki/Paraxial_approximation">paraxial approximation</a>, in contrast to the <em>nominal</em> focal length used in all "focal" attributes. Especially for fisheye lenses, both values can differ significantly. Lensfun itself needs the real focal length for lens type transformations. It uses the nominal focal length as a fallback.</p>
<p>The real focal length can be determined reliably only with a 360° panorama, e.g. with Hugin. The images must overlap by at least half an image width. However, Hugin's results <a href="https://bugs.launchpad.net/hugin/+bug/1307457">need to be rectified</a>. The real focal length must correspond to the distortion coefficients. Typically, they are the result of the very same parameter optimisation. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
